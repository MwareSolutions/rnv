{"version":3,"sources":["../../src/systemTools/logger.js"],"names":["_chalkCols","white","v","green","red","yellow","default","gray","grey","blue","magenta","_chalkMono","bold","chalk","_chalk","RNV_START","RNV","LINE","LINE2","logWelcome","str","_defaultColor","_c","files","rnv","package","version","rnvVersion","printIntoBox","includes","getCurrentCommand","timeStart","toLocaleString","printBoxEnd","console","log","_messages","_currentCommand","_currentProcess","_isInfoEnabled","_isMono","_highlightColor","configureLogger","c","process","command","subCommand","isInfoEnabled","Date","_currentSubCommand","program","mono","_updateDefaultColors","logAndSave","msg","skipLog","push","PRIVATE_PARAMS","excludeDollar","argArr","argv","slice","hideNext","output","map","join","dollar","logToSummary","logSummary","logContent","length","forEach","m","timeString","timeEnd","printBoxStart","project","name","buildConfig","_meta","currentAppConfigId","workspaceID","config","defaultProjectConfigs","defaults","supportedPlatforms","plats","i","obj","mapping","defaultVal","isEjected","paths","platformTemplatesDirs","platformTemplates","dir","printArrIntoBox","template","envString","platform","arch","versions","node","scheme","_msToTime","s","ms","secs","mins","hrs","setCurrentJob","job","logTask","task","customChalk","ch","postMsg","logWarning","logInfo","logDebug","args","apply","logComplete","isEnd","logEnd","logSuccess","logError","e","skipAnalytics","Analytics","captureException","message","stack","code","teardown","then","exit","logInitialize","logAppInfo","Promise","resolve","reject","id","str2","chalkIntend","endLine","intend","l","arr","prefix","stringArr","rnvStatus"],"mappings":"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","sourcesContent":["import _chalk from 'chalk';\nimport { generateOptions } from './prompt';\nimport Analytics from './analytics';\n\nconst _chalkCols = {\n    white: v => v,\n    green: v => v,\n    red: v => v,\n    yellow: v => v,\n    default: v => v,\n    gray: v => v,\n    grey: v => v,\n    blue: v => v,\n    magenta: v => v,\n};\nconst _chalkMono = {\n    ..._chalkCols,\n    bold: _chalkCols\n};\n\nlet chalk = _chalk;\n\n\nconst RNV_START = '🚀 ReNative';\nlet RNV = 'ReNative';\nconst LINE = chalk.bold.white('----------------------------------------------------------');\nconst LINE2 = chalk.gray('----------------------------------------------------------');\n\n\nexport const logWelcome = () => {\n    let str = _defaultColor(`\n┌──────────────────────────────────────────────────────────────────────────────┐\n│                                                                              │\n│        ${chalk.red('██████╗')} ███████╗${chalk.red('███╗   ██╗')} █████╗ ████████╗██╗${chalk.red('██╗   ██╗')}███████╗       │\n│        ${chalk.red('██╔══██╗')}██╔════╝${chalk.red('████╗  ██║')}██╔══██╗╚══██╔══╝██║${chalk.red('██║   ██║')}██╔════╝       │\n│        ${chalk.red('██████╔╝')}█████╗  ${chalk.red('██╔██╗ ██║')}███████║   ██║   ██║${chalk.red('██║   ██║')}█████╗         │\n│        ${chalk.red('██╔══██╗')}██╔══╝  ${chalk.red('██║╚██╗██║')}██╔══██║   ██║   ██║${chalk.red('╚██╗ ██╔╝')}██╔══╝         │\n│        ${chalk.red('██║  ██║')}███████╗${chalk.red('██║ ╚████║')}██║  ██║   ██║   ██║${chalk.red(' ╚████╔╝ ')}███████╗       │\n│        ${chalk.red('╚═╝  ╚═╝')}╚══════╝${chalk.red('╚═╝  ╚═══╝')}╚═╝  ╚═╝   ╚═╝   ╚═╝${chalk.red('  ╚═══╝  ')}╚══════╝       │\n│                                                                              │\n`);\n\n    if (_c?.files?.rnv?.package?.version) {\n        _c.rnvVersion = _c.files.rnv.package.version;\n        str += printIntoBox(`      Version: ${chalk.green(_c.rnvVersion)}`, 1);\n        if (_c.rnvVersion.includes('alpha')) {\n            str += printIntoBox(`      ${chalk.yellow('WARNING: this is a prerelease version.')}`, 1);\n            str += printIntoBox(`      ${chalk.yellow('Use \"npm install rnv\" for stable one.')}`, 1);\n        }\n    }\n    str += printIntoBox(`      ${chalk.grey('https://renative.org')}`, 1);\n    str += printIntoBox(`      🚀 ${chalk.yellow('Firing up!...')}`, 1);\n    str += printIntoBox(`      ${getCurrentCommand()}`);\n    if (_c?.timeStart) str += printIntoBox(`      Start Time: ${_c.timeStart.toLocaleString()}`);\n    str += printIntoBox('');\n    str += printBoxEnd();\n    str += '\\n';\n\n    console.log(str);\n};\n\nlet _messages = [];\nlet _currentCommand;\nlet _currentProcess;\nlet _isInfoEnabled = false;\nlet _c;\nlet _isMono = false;\nlet _defaultColor;\nlet _highlightColor;\n\n\nexport const configureLogger = (c, process, command, subCommand, isInfoEnabled) => {\n    _messages = [];\n    _c = c;\n    _c.timeStart = new Date();\n    _currentProcess = process;\n    _currentCommand = command;\n    _currentSubCommand = subCommand;\n    _isInfoEnabled = isInfoEnabled;\n    _isMono = c.program.mono;\n    if (_isMono) {\n        chalk = _chalkMono;\n    }\n    _updateDefaultColors();\n    RNV = getCurrentCommand();\n};\n\nconst _updateDefaultColors = () => {\n    _defaultColor = chalk.gray;\n    _highlightColor = chalk.green;\n};\n_updateDefaultColors();\n\nexport const logAndSave = (msg, skipLog) => {\n    if (_messages && !_messages.includes(msg)) _messages.push(msg);\n    if (!skipLog) console.log(`${msg}`);\n};\n\nconst PRIVATE_PARAMS = ['-k', '--key'];\n\nexport const getCurrentCommand = (excludeDollar = false) => {\n    if (!_c) return '_c is undefined';\n    const argArr = _c.process.argv.slice(2);\n    let hideNext = false;\n    const output = argArr.map((v) => {\n        if (hideNext) {\n            hideNext = false;\n            return '********';\n        }\n        if (PRIVATE_PARAMS.includes(v)) {\n            hideNext = true;\n        }\n\n        return v;\n    }).join(' ');\n    const dollar = excludeDollar ? '' : '$ ';\n    return `${dollar}rnv ${output}`;\n};\n\nexport const logToSummary = (v) => {\n    _messages.push(`\\n${v}`);\n};\n\nexport const logSummary = () => {\n    let logContent = printIntoBox('All good as 🦄 ');\n    if (_messages && _messages.length) {\n        logContent = '';\n        _messages.forEach((m) => {\n            logContent += `│ ${m}\\n`;\n        });\n    }\n\n\n    let timeString = '';\n    if (_c) {\n        _c.timeEnd = new Date();\n        timeString = `| ${_c.timeEnd.toLocaleString()}`;\n    }\n\n    let str = printBoxStart(`🚀  SUMMARY ${timeString}`, getCurrentCommand());\n    if (_c) {\n        if (_c.files.project.package) {\n            str += printIntoBox(`Project Name: ${_highlightColor(_c.files.project.package.name)}`, 1);\n            str += printIntoBox(`Project Version: ${_highlightColor(_c.files.project.package.version)}`, 1);\n        }\n        if (_c.buildConfig?._meta?.currentAppConfigId) {\n            str += printIntoBox(`App Config: ${_highlightColor(_c.buildConfig._meta?.currentAppConfigId)}`, 1);\n        }\n        if (_c.buildConfig?.workspaceID) {\n            str += printIntoBox(`Workspace: ${_highlightColor(_c.buildConfig.workspaceID)}`, 1);\n        }\n        if (_c.files.project.config) {\n            const defaultProjectConfigs = _c.files.project.config.defaults;\n            if (defaultProjectConfigs?.supportedPlatforms) {\n                const plats = [];\n                generateOptions(_c.buildConfig?.defaults?.supportedPlatforms, true, null, (i, obj, mapping, defaultVal) => {\n                    let isEjected = '';\n                    if (_c.paths.project.platformTemplatesDirs) {\n                        isEjected = _c.paths.project.platformTemplatesDirs[obj].includes(_c.paths.rnv.platformTemplates.dir) ? '' : '(ejected)';\n                    }\n\n                    plats.push(`${defaultVal}${isEjected}`);\n                });\n                str += printArrIntoBox(plats, 'Supported Platforms: ');\n            }\n            if (defaultProjectConfigs?.template) {\n                str += printIntoBox(`Master Template: ${_highlightColor(defaultProjectConfigs.template)}`, 1);\n            }\n        }\n        if (_c.process) {\n            const envString = `${_c.process.platform} | ${_c.process.arch} | node v${_c.process.versions?.node} | rnv v${_c.rnvVersion}`;\n            str += printIntoBox(`Env Info: ${chalk.gray(envString)}`, 1);\n        }\n\n        if (_c.program.scheme) str += printIntoBox(`Build Scheme: ${_highlightColor(_c.program.scheme)}`, 1);\n        if (_c.platform) str += printIntoBox(`Platform: ${_highlightColor(_c.platform)}`, 1);\n        if (_c.timeEnd) {\n            str += printIntoBox(`Executed Time: ${chalk.yellow(_msToTime(_c.timeEnd - _c.timeStart))}`, 1);\n        }\n    }\n\n    str += printIntoBox('');\n    str += logContent;\n    str += printIntoBox('');\n    str += printBoxEnd();\n\n    console.log(str);\n};\n\nconst _msToTime = (s) => {\n    const ms = s % 1000;\n    s = (s - ms) / 1000;\n    const secs = s % 60;\n    s = (s - secs) / 60;\n    const mins = s % 60;\n    const hrs = (s - mins) / 60;\n\n    return `${hrs}h:${mins}m:${secs}s:${ms}ms`;\n};\n\nexport const setCurrentJob = (job) => {\n    _currentCommand = job;\n};\n\nexport const logTask = (task, customChalk) => {\n    const ch = customChalk || chalk.green;\n    const postMsg = customChalk ? '' : ' - Starting!';\n    console.log(ch(`${RNV} - ${task}${postMsg}`));\n};\n\nexport const logWarning = (msg) => {\n    logAndSave(chalk.yellow(`⚠️  ${RNV} - WARNING: ${msg}`));\n};\n\nexport const logInfo = (msg) => {\n    console.log(chalk.magenta(`ℹ️  ${RNV} - NOTE: ${msg}`));\n};\n\nexport const logDebug = (...args) => {\n    if (_isInfoEnabled) console.log.apply(null, args);\n};\n\nexport const isInfoEnabled = () => _isInfoEnabled;\n\nexport const logComplete = (isEnd = false) => {\n    console.log(chalk.bold.white(`\\n ${RNV} - Done! 🚀`));\n    if (isEnd) logEnd(0);\n};\n\nexport const logSuccess = (msg) => {\n    logAndSave(`✅ ${chalk.magenta(msg)}`);\n};\n\nexport const logError = (e, isEnd = false, skipAnalytics = false) => {\n    if (!skipAnalytics) {\n        Analytics.captureException(e);\n    }\n\n    if (e && e.message) {\n        logAndSave(chalk.bold.red(`🛑  ${RNV} - ERRROR! ${e.message}\\n${e.stack}`), isEnd);\n    } else {\n        logAndSave(chalk.bold.red(`🛑  ${RNV} - ERRROR! ${e}`), isEnd);\n    }\n\n    if (isEnd) logEnd(1);\n};\n\nexport const logEnd = (code) => {\n    logSummary();\n    if (_currentProcess) {\n        Analytics.teardown().then(() => {\n            _currentProcess.exit(code);\n        });\n    }\n};\n\n\nexport const logInitialize = () => {\n    logWelcome();\n    // console.log(\n    //     chalk.white(`\\n${LINE}\\n ${RNV_START} ${chalk.white.bold(`${_currentCommand} ${_currentSubCommand || ''}`)} is firing up! 🔥\\n${LINE}\\n`),\n    // );\n};\n\nexport const logAppInfo = c => new Promise((resolve, reject) => {\n    console.log(chalk.gray(`\\n${LINE2}\\nℹ️  Current App Config: ${chalk.bold.white(c.buildConfig.id)}\\n${LINE2}`));\n\n    resolve();\n});\n\nexport const printIntoBox = (str2, chalkIntend = 0) => {\n    let output = _defaultColor('│  ');\n    let endLine = '';\n    let intend;\n    if (_isMono) {\n        intend = 0;\n        chalkIntend = 0;\n    } else {\n        intend = str2 === '' ? 1 : 2;\n    }\n    for (let i = 0; i < chalkIntend + intend; i++) {\n        endLine += '          ';\n    }\n    endLine += '                                                                               │\\n';\n    output += _defaultColor(str2);\n    const l = output.length - endLine.length;\n    output += _defaultColor(endLine.slice(l));\n    return output;\n};\n\nexport const printArrIntoBox = (arr, prefix = '') => {\n    let output = '';\n    let stringArr = '';\n    let i = 0;\n    arr.forEach((v) => {\n        const l = i === 0 ? 60 - _defaultColor(prefix).length : 60;\n        if (stringArr.length > l) {\n            if (i === 0 && prefix.length) {\n                output += printIntoBox(`${_defaultColor(prefix)}${_defaultColor(stringArr)}`, 2);\n            } else {\n                output += printIntoBox(_defaultColor(stringArr), 1);\n            }\n\n            stringArr = '';\n            i++;\n        }\n        stringArr += `${v}, `;\n        // stringArr[i] += `${c.platformDefaults[v].icon} ${chalk.white(v)}, `;\n    });\n    if (i === 0 && prefix.length) {\n        output += printIntoBox(`${_defaultColor(prefix)}${_defaultColor(stringArr.slice(0, -2))}`, 2);\n    } else {\n        output += printIntoBox(_defaultColor(stringArr.slice(0, -2)), 1);\n    }\n\n    return output;\n};\n\nexport const printBoxStart = (str, str2) => {\n    let output = _defaultColor('┌──────────────────────────────────────────────────────────────────────────────┐\\n');\n    output += printIntoBox(str);\n    output += printIntoBox(str2 || '');\n    output += _defaultColor('├──────────────────────────────────────────────────────────────────────────────┤\\n');\n    return output;\n};\n\nexport const rnvStatus = async () => Promise.resolve();\n\nexport const printBoxEnd = () => _defaultColor('└──────────────────────────────────────────────────────────────────────────────┘');\n\nexport default {\n    logEnd,\n    logInfo,\n    logTask,\n    logError,\n    logDebug,\n    logAppInfo,\n    logWarning,\n    logSuccess,\n    logWelcome,\n    logComplete,\n    logInitialize\n};\n"],"file":"logger.js"}