{"version":3,"file":"xmlValuesParser.js","names":["parseValuesStringsSync","c","appFolder","getAppFolder","platform","stringsPath","strings","getAppTitle","pluginConfigAndroid","resourceStrings","forEach","v","tag","name","child_value","writeFileSync","path","join","parseValuesColorsSync","writeCleanFile","getBuildFilePath","pattern","override","sanitizeColor","getConfigProp","hex","injectPluginXmlValuesSync","plugin","key","pkg","rStrings","ResourceStrings","children","obj","push"],"sources":["../../../src/platformTools/android/xmlValuesParser.js"],"sourcesContent":["import path from 'path';\nimport {\n    getAppFolder,\n    getAppTitle,\n    writeCleanFile,\n    getBuildFilePath,\n    getConfigProp,\n    sanitizeColor\n} from '../../common';\nimport { writeFileSync } from '../../systemTools/fileutils';\n\nexport const parseValuesStringsSync = (c) => {\n    const appFolder = getAppFolder(c, c.platform);\n    const stringsPath = 'app/src/main/res/values/strings.xml';\n    let strings = '<resources>\\n';\n    strings += `  <string name=\"app_name\">${getAppTitle(c, c.platform)}</string>\\n`;\n    c.pluginConfigAndroid.resourceStrings.forEach((v) => {\n        strings += `  <${v.tag} name=\"${v.name}\">${v.child_value}</${v.tag}>\\n`;\n    });\n    strings += '</resources>';\n    writeFileSync(path.join(appFolder, stringsPath), strings);\n};\n\nexport const parseValuesColorsSync = (c) => {\n    const appFolder = getAppFolder(c, c.platform);\n    const stringsPath = 'app/src/main/res/values/colors.xml';\n    writeCleanFile(getBuildFilePath(c, c.platform, stringsPath), path.join(appFolder, stringsPath), [\n        { pattern: '{{PLUGIN_COLORS_BG}}', override: sanitizeColor(getConfigProp(c, c.platform, 'backgroundColor')).hex },\n    ]);\n};\n\nexport const injectPluginXmlValuesSync = (c, plugin, key, pkg) => {\n    const rStrings = plugin.ResourceStrings?.children;\n    if (rStrings) {\n        rStrings.forEach((obj) => {\n            c.pluginConfigAndroid.resourceStrings.push(obj);\n        });\n    }\n};\n"],"mappings":"kPAAA;AACA;;;;;;;;AAQA;;AAEO,GAAMA,uBAAsB,CAAG,QAAzBA,uBAAsB,CAAIC,CAAC,CAAK;AACzC,GAAMC,UAAS,CAAG,GAAAC,oBAAY,EAACF,CAAC,CAAEA,CAAC,CAACG,QAAQ,CAAC;AAC7C,GAAMC,YAAW,CAAG,qCAAqC;AACzD,GAAIC,QAAO,CAAG,eAAe;AAC7BA,OAAO,iCAAiC,GAAAC,mBAAW,EAACN,CAAC,CAAEA,CAAC,CAACG,QAAQ,CAAC,cAAa;AAC/EH,CAAC,CAACO,mBAAmB,CAACC,eAAe,CAACC,OAAO,CAAC,SAACC,CAAC,CAAK;AACjDL,OAAO,QAAUK,CAAC,CAACC,GAAG,YAAUD,CAAC,CAACE,IAAI,OAAKF,CAAC,CAACG,WAAW,MAAKH,CAAC,CAACC,GAAG,MAAK;AAC3E,CAAC,CAAC;AACFN,OAAO,EAAI,cAAc;AACzB,GAAAS,wBAAa,EAACC,aAAI,CAACC,IAAI,CAACf,SAAS,CAAEG,WAAW,CAAC,CAAEC,OAAO,CAAC;AAC7D,CAAC,CAAC;;AAEK,GAAMY,sBAAqB,CAAG,QAAxBA,sBAAqB,CAAIjB,CAAC,CAAK;AACxC,GAAMC,UAAS,CAAG,GAAAC,oBAAY,EAACF,CAAC,CAAEA,CAAC,CAACG,QAAQ,CAAC;AAC7C,GAAMC,YAAW,CAAG,oCAAoC;AACxD,GAAAc,sBAAc,EAAC,GAAAC,wBAAgB,EAACnB,CAAC,CAAEA,CAAC,CAACG,QAAQ,CAAEC,WAAW,CAAC,CAAEW,aAAI,CAACC,IAAI,CAACf,SAAS,CAAEG,WAAW,CAAC,CAAE;AAC5F,CAAEgB,OAAO,CAAE,sBAAsB,CAAEC,QAAQ,CAAE,GAAAC,qBAAa,EAAC,GAAAC,qBAAa,EAACvB,CAAC,CAAEA,CAAC,CAACG,QAAQ,CAAE,iBAAiB,CAAC,CAAC,CAACqB,GAAI,CAAC,CACpH,CAAC;;AACN,CAAC,CAAC;;AAEK,GAAMC,0BAAyB,CAAG,QAA5BA,0BAAyB,CAAIzB,CAAC,CAAE0B,MAAM,CAAEC,GAAG,CAAEC,GAAG,CAAK;AAC9D,GAAMC,SAAQ,wBAAGH,MAAM,CAACI,eAAe,eAAtB,sBAAwBC,QAAQ;AACjD,GAAIF,QAAQ,CAAE;AACVA,QAAQ,CAACpB,OAAO,CAAC,SAACuB,GAAG,CAAK;AACtBhC,CAAC,CAACO,mBAAmB,CAACC,eAAe,CAACyB,IAAI,CAACD,GAAG,CAAC;AACnD,CAAC,CAAC;AACN;AACJ,CAAC,CAAC"}