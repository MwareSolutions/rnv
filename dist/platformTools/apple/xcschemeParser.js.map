{"version":3,"file":"xcschemeParser.js","names":["parseXcscheme","c","platform","logTask","allowProvisioningUpdates","getConfigProp","provisioningStyle","runScheme","poisxSpawn","appFolder","getAppFolder","appFolderName","getAppFolderName","appTemplateFolder","getAppTemplateFolder","debuggerId","launcherId","schemePath","writeCleanFile","path","join","pattern","override"],"sources":["../../../src/platformTools/apple/xcschemeParser.js"],"sourcesContent":["import path from 'path';\nimport {\n    getAppFolder,\n    writeCleanFile,\n    getAppTemplateFolder,\n    getConfigProp,\n} from '../../common';\nimport {\n    logTask\n} from '../../systemTools/logger';\nimport { getAppFolderName } from './index';\n\nexport const parseXcscheme = async (c, platform) => {\n    logTask(`parseXcscheme:${platform}`);\n    // XCSCHEME\n    const allowProvisioningUpdates = getConfigProp(c, platform, 'allowProvisioningUpdates', true);\n    const provisioningStyle = getConfigProp(c, platform, 'provisioningStyle', 'Automatic');\n    const runScheme = getConfigProp(c, platform, 'runScheme');\n    // const poisxSpawn = runScheme === 'Release' && !allowProvisioningUpdates && provisioningStyle === 'Manual';\n    // Since RN 61+ this must be set to true otherwise debug apps install but not launch\n    const poisxSpawn = true;\n    const appFolder = getAppFolder(c, platform);\n    const appFolderName = getAppFolderName(c, platform);\n    const appTemplateFolder = getAppTemplateFolder(c, platform);\n\n    const debuggerId = poisxSpawn ? '' : 'Xcode.DebuggerFoundation.Debugger.LLDB';\n    const launcherId = poisxSpawn ? 'Xcode.IDEFoundation.Launcher.PosixSpawn' : 'Xcode.DebuggerFoundation.Launcher.LLDB';\n    const schemePath = `${appFolderName}.xcodeproj/xcshareddata/xcschemes/${appFolderName}.xcscheme`;\n    writeCleanFile(path.join(appTemplateFolder, schemePath), path.join(appFolder, schemePath), [\n        { pattern: '{{PLUGIN_DEBUGGER_ID}}', override: debuggerId },\n        { pattern: '{{PLUGIN_LAUNCHER_ID}}', override: launcherId },\n    ]);\n};\n"],"mappings":"wPAAA;AACA;;;;;;AAMA;;;AAGA;;AAEO,GAAMA,cAAa,CAAG,QAAhBA,cAAa,CAAUC,CAAC,CAAEC,QAAQ;AAC3C,GAAAC,eAAO,mBAAkBD,QAAQ,CAAG;;AAE9BE,wBAAwB,CAAG,GAAAC,qBAAa,EAACJ,CAAC,CAAEC,QAAQ,CAAE,0BAA0B,CAAE,IAAI,CAAC;AACvFI,iBAAiB,CAAG,GAAAD,qBAAa,EAACJ,CAAC,CAAEC,QAAQ,CAAE,mBAAmB,CAAE,WAAW,CAAC;AAChFK,SAAS,CAAG,GAAAF,qBAAa,EAACJ,CAAC,CAAEC,QAAQ,CAAE,WAAW,CAAC;;;AAGnDM,UAAU,CAAG,IAAI;AACjBC,SAAS,CAAG,GAAAC,oBAAY,EAACT,CAAC,CAAEC,QAAQ,CAAC;AACrCS,aAAa,CAAG,GAAAC,uBAAgB,EAACX,CAAC,CAAEC,QAAQ,CAAC;AAC7CW,iBAAiB,CAAG,GAAAC,4BAAoB,EAACb,CAAC,CAAEC,QAAQ,CAAC;;AAErDa,UAAU,CAAGP,UAAU,CAAG,EAAE,CAAG,wCAAwC;AACvEQ,UAAU,CAAGR,UAAU,CAAG,yCAAyC,CAAG,wCAAwC;AAC9GS,UAAU,CAAMN,aAAa,sCAAqCA,aAAa;AACrF,GAAAO,sBAAc,EAACC,aAAI,CAACC,IAAI,CAACP,iBAAiB,CAAEI,UAAU,CAAC,CAAEE,aAAI,CAACC,IAAI,CAACX,SAAS,CAAEQ,UAAU,CAAC,CAAE;AACvF,CAAEI,OAAO,CAAE,wBAAwB,CAAEC,QAAQ,CAAEP,UAAW,CAAC;AAC3D,CAAEM,OAAO,CAAE,wBAAwB,CAAEC,QAAQ,CAAEN,UAAW,CAAC,CAC9D,CAAC,CAAC,qEACN,CAAC"}