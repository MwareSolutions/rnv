{"version":3,"sources":["../../../src/platformTools/apple/xcschemeParser.js"],"names":["parseXcscheme","c","platform","allowProvisioningUpdates","provisioningStyle","runScheme","poisxSpawn","appFolder","appFolderName","appTemplateFolder","debuggerId","launcherId","schemePath","path","join","pattern","override"],"mappings":"wPAAA;AACA;;;;;;AAMA;;;AAGA;;AAEO,GAAMA,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAAOC,CAAP,CAAUC,QAAV;AACzB,qCAAyBA,QAAzB;;AAEMC,wBAHmB,CAGQ,0BAAcF,CAAd,CAAiBC,QAAjB,CAA2B,0BAA3B,CAAuD,IAAvD,CAHR;AAInBE,iBAJmB,CAIC,0BAAcH,CAAd,CAAiBC,QAAjB,CAA2B,mBAA3B,CAAgD,WAAhD,CAJD;AAKnBG,SALmB,CAKP,0BAAcJ,CAAd,CAAiBC,QAAjB,CAA2B,WAA3B,CALO;;;AAQnBI,UARmB,CAQN,IARM;AASnBC,SATmB,CASP,yBAAaN,CAAb,CAAgBC,QAAhB,CATO;AAUnBM,aAVmB,CAUH,4BAAiBP,CAAjB,CAAoBC,QAApB,CAVG;AAWnBO,iBAXmB,CAWC,iCAAqBR,CAArB,CAAwBC,QAAxB,CAXD;;AAanBQ,UAbmB,CAaNJ,UAAU,CAAG,EAAH,CAAQ,wCAbZ;AAcnBK,UAdmB,CAcNL,UAAU,CAAG,yCAAH,CAA+C,wCAdnD;AAenBM,UAfmB,CAeHJ,aAfG,sCAe+CA,aAf/C;AAgBzB,2BAAeK,cAAKC,IAAL,CAAUL,iBAAV,CAA6BG,UAA7B,CAAf,CAAyDC,cAAKC,IAAL,CAAUP,SAAV,CAAqBK,UAArB,CAAzD,CAA2F;AACvF,CAAEG,OAAO,CAAE,wBAAX,CAAqCC,QAAQ,CAAEN,UAA/C,CADuF;AAEvF,CAAEK,OAAO,CAAE,wBAAX,CAAqCC,QAAQ,CAAEL,UAA/C,CAFuF,CAA3F,EAhByB,sEAAtB,C","sourcesContent":["import path from 'path';\nimport {\n    getAppFolder,\n    writeCleanFile,\n    getAppTemplateFolder,\n    getConfigProp,\n} from '../../common';\nimport {\n    logTask\n} from '../../systemTools/logger';\nimport { getAppFolderName } from './index';\n\nexport const parseXcscheme = async (c, platform) => {\n    logTask(`parseXcscheme:${platform}`);\n    // XCSCHEME\n    const allowProvisioningUpdates = getConfigProp(c, platform, 'allowProvisioningUpdates', true);\n    const provisioningStyle = getConfigProp(c, platform, 'provisioningStyle', 'Automatic');\n    const runScheme = getConfigProp(c, platform, 'runScheme');\n    // const poisxSpawn = runScheme === 'Release' && !allowProvisioningUpdates && provisioningStyle === 'Manual';\n    // Since RN 61+ this must be set to true otherwise debug apps install but not launch\n    const poisxSpawn = true;\n    const appFolder = getAppFolder(c, platform);\n    const appFolderName = getAppFolderName(c, platform);\n    const appTemplateFolder = getAppTemplateFolder(c, platform);\n\n    const debuggerId = poisxSpawn ? '' : 'Xcode.DebuggerFoundation.Debugger.LLDB';\n    const launcherId = poisxSpawn ? 'Xcode.IDEFoundation.Launcher.PosixSpawn' : 'Xcode.DebuggerFoundation.Launcher.LLDB';\n    const schemePath = `${appFolderName}.xcodeproj/xcshareddata/xcschemes/${appFolderName}.xcscheme`;\n    writeCleanFile(path.join(appTemplateFolder, schemePath), path.join(appFolder, schemePath), [\n        { pattern: '{{PLUGIN_DEBUGGER_ID}}', override: debuggerId },\n        { pattern: '{{PLUGIN_LAUNCHER_ID}}', override: launcherId },\n    ]);\n};\n"],"file":"xcschemeParser.js"}